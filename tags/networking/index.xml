<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Networking on Jason Ops Notes</title><link>https://jasontsaicc.github.io/Jason-ops-notes/tags/networking/</link><description>Recent content in Networking on Jason Ops Notes</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 03 Apr 2025 12:13:00 +0800</lastBuildDate><atom:link href="https://jasontsaicc.github.io/Jason-ops-notes/tags/networking/index.xml" rel="self" type="application/rss+xml"/><item><title>è¼¸å…¥ç¶²å€ä¹‹å¾Œç™¼ç”Ÿçš„äº‹?, DNS, TLS, ä»¥åŠCertificate</title><link>https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/</link><pubDate>Thu, 03 Apr 2025 12:13:00 +0800</pubDate><guid>https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/</guid><description>&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/blog_cover_03.jpeg" alt="Featured image of post è¼¸å…¥ç¶²å€ä¹‹å¾Œç™¼ç”Ÿçš„äº‹?, DNS, TLS, ä»¥åŠCertificate" />&lt;p>ä¸Šä¸€ç¯‡èŠåˆ°äº† TCP/UDP, å’Œéå°ç¨±åŠ å¯†/å°ç¨±åŠ å¯†çš„åŸºæœ¬è§€å¿µ, å†ä¾†ç¹¼çºŒèŠå»ºç«‹å»ºç«‹é€šè¨Šä¹‹å¾Œä¹‹å¾Œçš„äº‹!!
é€™ä¹Ÿæ˜¯æˆ‘åœ¨æº–å‚™AWS Cloud Support Engineeré¢è©¦é¡Œ, é‡æ–°æ•´ç†æ€è·¯é‡æ¸…æ•´é«”æ¦‚å¿µçš„, æˆ‘å€‘å…ˆå¾ç¶²è·¯å±¤é¢èªªèµ·&lt;/p>
&lt;hr>
&lt;h2 id="è¼¸å…¥ç¶²å€ä¹‹å¾Œç™¼ç”Ÿçš„äº‹">è¼¸å…¥ç¶²å€ä¹‹å¾Œç™¼ç”Ÿçš„äº‹
&lt;/h2>&lt;p>æœ‰æ²’æœ‰æƒ³é, åœ¨ä½¿ç”¨Browserè¼¸å…¥&lt;code>google.com&lt;/code>æŒ‰ä¸‹ Enter, ä¹‹å¾Œç™¼ç”Ÿäº†ä»€éº¼äº‹? ç€è¦½å™¨æ˜¯æ€éº¼å°‡ç¶²é é¡¯ç¤ºåœ¨ä½ çš„è¢å¹•ä¸Šçš„!&lt;/p>
&lt;p>æŒ‰ä¸‹Enterä¹‹å¾Œ, é¦–å…ˆæœƒå…ˆå»DNS server(ä¸€èˆ¬æ˜¯UDP 53port, ä½†æœƒå…ˆæŸ¥çœ‹æœ¬æ©Ÿçš„cache) æŸ¥è©¢åˆ°google.com çš„IPæ˜¯å¤šå°‘.&lt;/p>
&lt;p>é€™è£¡æˆ‘å€‘ä½¿ç”¨digæŒ‡ä»¤ ä¾†æŸ¥çœ‹DNS server çš„è³‡è¨Š(å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨nslookupä¾†æŸ¥è©¢, ä½†æ˜¯ç¾åœ¨æ–°çš„å·¥å…·å»ºè­°ä½¿ç”¨digæ¯”è¼ƒæ¸…æ¥š)&lt;/p>
&lt;p>&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-1.png"
width="1564"
height="818"
srcset="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-1_hu_7efda49876f79e7b.png 480w, https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-1_hu_7b005ea76a294917.png 1024w"
loading="lazy"
alt="linux digæŒ‡ä»¤"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="458px"
>&lt;/p>
&lt;ul>
&lt;li>status: NOERROR ä»£è¡¨æ²’æœ‰éŒ¯èª¤&lt;/li>
&lt;li>QUESTION SECTION æˆ‘å€‘æŸ¥è©¢çš„æ˜¯googleçš„Aè¨˜éŒ„&lt;/li>
&lt;li>Google.com å°æ‡‰çš„ IPæ˜¯ 142.250.196.206&lt;/li>
&lt;/ul>
&lt;h3 id="https-èˆ‡-tls">HTTPS èˆ‡ TLS
&lt;/h3>&lt;p>ç•¶ç€è¦½å™¨æ‹¿åˆ° IP å¾Œ, é€™æ™‚å€™çœ‹åˆ°ç¶²å€æ˜¯ã€Œhttps://ã€é–‹é ­å°±å…¶å¯¦èƒŒå¾Œå°±æ˜¯ä½¿ç”¨SSL/TLSåŠ å¯†,æœƒè§¸ç™¼ TLS Handshake, é€™æ™‚å€™SSL/TLSåšäº†2ä»¶äº‹,&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨åŠ å¯†å¯ä»¥ç¢ºä¿å‚³è¼¸çš„å…§å®¹ä¸æœƒè¢«ç«Šè½&lt;/li>
&lt;li>é©—è­‰ä¼ºæœå™¨èº«åˆ†ï¼ˆç¢ºèªä½ é€£çš„æ˜¯çœŸçš„ Googleï¼Œè€Œä¸æ˜¯å‡ç¶²ç«™ï¼‰&lt;/li>
&lt;/ol>
&lt;h3 id="tls-handshakeçš„æµç¨‹">TLS Handshakeçš„æµç¨‹
&lt;/h3>&lt;p>ç•¶é€£åˆ° https:// é–‹é ­çš„ç¶²ç«™æ™‚ï¼ŒèƒŒå¾Œå…¶å¯¦è·‘çš„æµç¨‹ï¼š&lt;/p>
&lt;ol>
&lt;li>Client ç™¼é€ Hello å‘Šè¨´Server æˆ‘æ”¯æ´å“ªäº›åŠ å¯†æ¼”ç®—æ³•, TLS ç‰ˆæœ¬?&lt;/li>
&lt;li>Server å›å‚³ Hello è·ŸCertificateï¼ˆç¶²ç«™åç¨±, æ†‘è­‰, å…¬é‘°ï¼‰&lt;/li>
&lt;li>ç€è¦½å™¨æœƒæª¢æŸ¥æ†‘è­‰æ˜¯å¦æœ‰æ•ˆ (æœ‰æ²’æœ‰éæœŸ, æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„CAç™¼çš„, ä¸»æ©Ÿå)&lt;/li>
&lt;li>å¦‚æœæ²’å•é¡Œ, ç€è¦½å™¨ç”¨å…¬é‘°åŠ å¯†Session Keyé€çµ¦ Server&lt;/li>
&lt;li>Server ç”¨ç§é‘°è§£é–‹ Session Keyï¼Œä¹‹å¾Œç”¨é€™æŠŠé‡‘é‘°é›™æ–¹åŠ å¯†å‚³è¼¸&lt;/li>
&lt;/ol>
&lt;p>ç‚ºä»€éº¼å®‰å…¨å‘¢?&lt;/p>
&lt;ul>
&lt;li>å…¬é‘°åŠ å¯†æ˜¯ã€Œä¸€æŠŠé– â†’ äººäººå¯é–ï¼Œåªèƒ½ä½ è‡ªå·±èƒ½è§£ã€çš„æ¦‚å¿µ&lt;/li>
&lt;li>å°±ç®—ä¸­é–“æœ‰äººæ””æˆªï¼Œä¹Ÿç„¡æ³•è§£å‡º Session Key&lt;/li>
&lt;/ul>
&lt;p>é€™ä¹Ÿæ˜¯ä¸Šä¸€ç¯‡èªªåˆ°çš„ æ··åˆåŠ å¯†ï¼ˆRSA + AESï¼‰ã€‚&lt;/p>
&lt;blockquote>
&lt;p>éå°ç¨±åŠ å¯†å»ºç«‹ä¿¡ä»» + å°ç¨±åŠ å¯†è² è²¬å‚³è¼¸
å› ç‚ºå°ç¨±åŠ å¯†é€Ÿåº¦å¿«ï¼Œé©åˆé•·æ™‚é–“å¤§é‡å‚³è¼¸ï¼Œè€Œéå°ç¨±åŠ å¯†é›–å®‰å…¨ä½†é‹ç®—æ…¢ï¼Œé©åˆåªç”¨åœ¨ã€Œå‚³é€ session keyã€ã€‚&lt;/p>&lt;/blockquote>
&lt;p>é€™è£¡ä½¿ç”¨opensslä¾†æŸ¥çœ‹ TLS é€£ç·šéç¨‹ï¼š
openssl s_client -connect google.com:443 -servername google.com -msg
&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-3.png"
width="1450"
height="1152"
srcset="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-3_hu_3b295f44ed21ab64.png 480w, https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-3_hu_598c4b4999612569.png 1024w"
loading="lazy"
alt="TLS é€£ç·šéç¨‹-1"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="302px"
>
&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-4.png"
width="1538"
height="1768"
srcset="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-4_hu_5488d8842d8b912c.png 480w, https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-4_hu_921c0932f5cdd238.png 1024w"
loading="lazy"
alt="TLS é€£ç·šéç¨‹-2"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="208px"
>&lt;/p>
&lt;ul>
&lt;li>Client Hello â†’ æ”¯æ´å“ªäº›åŠ å¯†æ¼”ç®—æ³•ã€TLS ç‰ˆæœ¬&lt;/li>
&lt;li>Server Hello â†’ å”è­°ã€Cipherã€æ†‘è­‰å…§å®¹&lt;/li>
&lt;/ul>
&lt;p>é€™è£¡æœ‰ä¸€å€‹é‡é»æ˜¯æ€éº¼ç¢ºå®šä½ é€£åˆ°çš„çœŸçš„Googleå‘¢?æ€éº¼å»é©—è­‰å‘¢?&lt;/p>
&lt;h2 id="certificateçš„é‹ä½œ">Certificateçš„é‹ä½œ
&lt;/h2>&lt;p>Certificateç”¨ä¾†ç•¶ä½œç¶²é çš„èº«ä»½è­‰, ä¸Šé¢å¯«äº†&lt;/p>
&lt;ul>
&lt;li>ç¶²ç«™åç¨±(google.com)&lt;/li>
&lt;li>å’Œä¸Šä¸€ç¯‡èªªåˆ°çš„å…¬é‘°ï¼ˆç”¨ä¾†çµ¦ç€è¦½å™¨åŠ å¯† Session Key, å–®å‘çš„åŠ å¯†)&lt;/li>
&lt;li>ä»¥åŠæ˜¯èª°èƒŒæ›¸çš„ç°½ç™¼è€…, (CA, Certificate Authority)? é€™å€‹æ¸…å–®ä¸Šå­˜åœ¨æˆ‘å€‘çš„ç€è¦½å™¨ä¸­!&lt;/li>
&lt;li>æœ‰æ•ˆæœŸé™&lt;/li>
&lt;li>ç°½ç«  CA ä½¿ç”¨è‡ªå·±çš„keyä¾†åŠ ç°½, ç¢ºå®šæ†‘è­‰æ²’æœ‰è¢«ç¯¡æ”¹&lt;/li>
&lt;/ul>
&lt;p>æœ‰é»åƒè¦é€²å»å…¬å¸å¤§æ¨“, æˆ‘æ‹¿å“¡å·¥è­‰(Certificate)çµ¦ç®¡ç†å“¡(Browser)çœ‹, çœ‹åˆ°èª°googleç™¼çµ¦æˆ‘çš„å“¡å·¥è­‰,é€™æ¨£æˆ‘å°±å¯ä»¥é€²å»äº†ï¼ˆå»ºç«‹ HTTPSé€£ç·šï¼‰.&lt;/p>
&lt;p>ç€è¦½å™¨å…§å»ºæœƒä¿¡ä»»é€™äº› CA ç™¼çš„æ†‘è­‰, æ‰€ä»¥æˆ‘å€‘çš„ç³»çµ±è·Ÿç€è¦½å™¨å–”éƒ½æœ‰é è¨­ä¿¡ä»»çš„CAæ¸…å–®, éƒ½é è¨­åœ¨ç³»çµ±ç•¶ä¸­äº†, é€™å¹¾å€‹CAè£¡é¢çš„æ¸…å–®æœƒè‡ªå‹•æ›´æ–°ä¾†æ”¶éŒ„æ–°ç¶²ç«™&lt;/p>
&lt;ul>
&lt;li>æ‰€ä»¥ç€è¦½å™¨ä¿¡ CA â†’ ä¿¡é€™å¼µæ†‘è­‰ â†’ ä¿¡é€™å€‹ç¶²ç«™ã€‚&lt;/li>
&lt;li>åªè¦æ˜¯å¯ä¿¡ CA ç°½å‡ºä¾†çš„æ†‘è­‰ï¼Œç€è¦½å™¨å°±æœƒä¿¡ä»»&lt;/li>
&lt;li>CA æ˜¯æ†‘è­‰é ’ç™¼å–®ä½&lt;/li>
&lt;/ul>
&lt;p>å¯ä»¥åœ¨ç€è¦½å™¨ä¸­æŸ¥çœ‹ Google çš„æ†‘è­‰å…§å®¹, æœ‰æ•ˆæœŸé™, é‚„æœ‰å…¬é‘°
&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-5.png"
width="2172"
height="1644"
srcset="https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-5_hu_16af0a25c29631f8.png 480w, https://jasontsaicc.github.io/Jason-ops-notes/p/%E8%BC%B8%E5%85%A5%E7%B6%B2%E5%9D%80%E4%B9%8B%E5%BE%8C%E7%99%BC%E7%94%9F%E7%9A%84%E4%BA%8B-dns-tls-%E4%BB%A5%E5%8F%8Acertificate/image-5_hu_8000511ff5ebd150.png 1024w"
loading="lazy"
alt="alt text"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/p>
&lt;p>é€™è£¡æˆ‘ä¾†èªªä¸€ä¸‹æ†‘è­‰çš„ç°½ç™¼æµç¨‹(self Signedå¸¸å¸¸æœƒä½¿ç”¨åˆ°, ä»¥å¾Œåœ¨å‡ºä¸€ç¯‡è©³ç´°èªªæ˜)&lt;/p>
&lt;p>ä¸€èˆ¬çš„æµç¨‹æ˜¯é€™æ¨£, åœ¨serverç«¯ â†’ å»ºç«‹ CSRï¼ˆæ†‘è­‰ç°½ç™¼è«‹æ±‚ï¼‰ â†’ å‚³é€çµ¦ CA â†’ CA ç”¨ç§é‘°ç°½å â†’ å›å‚³æ†‘è­‰&lt;/p>
&lt;p>ç”¨æˆ‘æœ€è¿‘æ‰¾å·¥ä½œä¾†èˆ‰ä¾‹çš„è©±å°±æ˜¯:æˆ‘åœ¨104å¯«å±¥æ­·ï¼ˆCSRï¼‰ï¼Œçµ¦æˆ‘çš„æ¨è–¦äººï¼ˆCAï¼‰ï¼Œå¹«æˆ‘èƒŒæ›¸ï¼ˆç°½åï¼‰èªªã€ŒJasonæ²’å•é¡Œ!ã€ï¼Œæˆ‘å°±å¯ä»¥æ‹¿è‘—é€™å¼µå±¥æ­·ï¼ˆæ†‘è­‰ï¼‰æ‰¾å·¥ä½œï¼ˆçµ¦ç€è¦½å™¨é©—è­‰ï¼‰ã€‚&lt;/p>
&lt;h2 id="ç¸½çµ">ç¸½çµ
&lt;/h2>&lt;p>å¯«è‘—å¯«è‘—ç™¼ç¾æœ‰å¤ªå¤šè¦å»¶ä¼¸å‡ºå»çš„, ä¸çŸ¥ä¸è¦ºå¯«äº†å¾ˆå¤š, åŸæœ¬æƒ³è¦è¬› JWT å’Œè‡ªç°½æ†‘è­‰ï¼Œä½†é‚„æ²’ä¾†å¾—åŠ, ä¸‹ç¯‡å†ç¹¼çºŒåˆ†äº«ï¼&lt;/p></description></item><item><title>å¾åƒçƒ¤é´¨èŠåˆ° TCPï¼šé‡æ–°å›é¡§ç¶²è·¯é€šè¨Šèˆ‡åŠ å¯†çš„åŸºæœ¬åŸç†</title><link>https://jasontsaicc.github.io/Jason-ops-notes/p/%E5%BE%9E%E5%90%83%E7%83%A4%E9%B4%A8%E8%81%8A%E5%88%B0-tcp%E9%87%8D%E6%96%B0%E5%9B%9E%E9%A1%A7%E7%B6%B2%E8%B7%AF%E9%80%9A%E8%A8%8A%E8%88%87%E5%8A%A0%E5%AF%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/</link><pubDate>Sun, 30 Mar 2025 00:00:00 +0000</pubDate><guid>https://jasontsaicc.github.io/Jason-ops-notes/p/%E5%BE%9E%E5%90%83%E7%83%A4%E9%B4%A8%E8%81%8A%E5%88%B0-tcp%E9%87%8D%E6%96%B0%E5%9B%9E%E9%A1%A7%E7%B6%B2%E8%B7%AF%E9%80%9A%E8%A8%8A%E8%88%87%E5%8A%A0%E5%AF%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/</guid><description>&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E5%BE%9E%E5%90%83%E7%83%A4%E9%B4%A8%E8%81%8A%E5%88%B0-tcp%E9%87%8D%E6%96%B0%E5%9B%9E%E9%A1%A7%E7%B6%B2%E8%B7%AF%E9%80%9A%E8%A8%8A%E8%88%87%E5%8A%A0%E5%AF%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/cover2.jpg" alt="Featured image of post å¾åƒçƒ¤é´¨èŠåˆ° TCPï¼šé‡æ–°å›é¡§ç¶²è·¯é€šè¨Šèˆ‡åŠ å¯†çš„åŸºæœ¬åŸç†" />&lt;h2 id="ç¬¬äºŒç¯‡æ–‡ç« ç»çµ¦-andrew-å’Œçƒé­šå•¦">ç¬¬äºŒç¯‡æ–‡ç« ç»çµ¦ Andrew å’Œçƒé­šå•¦!
&lt;/h2>&lt;p>å·¥ç¨‹å¸«çš„èšæœƒé™¤äº†åœ¨ç½µ DGRã€ä½›åœ°é­”ä¹‹å¤–ï¼Œé€™æ¬¡ç«Ÿç„¶å¾åƒçƒ¤é´¨èŠåˆ° x86ã€Apple IIã€DOSã€macOSã€iOS çš„æ­·å²ï¼Œä¸€è·¯å»¶ä¼¸åˆ°ç¶²æ™¯ã€Sun Microsystemsã€‚&lt;/p>
&lt;p>ç„¶å¾Œè¢« Andrew ä¸€å€‹éˆé­‚æ‹·å•ç›´æ¥å•åˆ°ï¼š&lt;/p>
&lt;blockquote>
&lt;p>OSI æ¶æ§‹æ˜¯ä»€éº¼ï¼ŸTCP/IP æ€éº¼é‹ä½œï¼Ÿä»€éº¼æ˜¯ 3-way handshakeã€UDPã€JWTï¼Ÿ&lt;/p>&lt;/blockquote>
&lt;p>é€™äº›éƒ½æ˜¯é¢è©¦å¿…è€ƒé¡Œï¼Œä¸éä¸ç†è§£æ•´å€‹æ¼”é€²è„ˆçµ¡ï¼Œæ¯æ¬¡éƒ½æœƒè®Šæˆã€Œä¸€çœ‹å°±æœƒã€ä¸€è¢«å•å°±å»¢ã€ã€‚&lt;/p>
&lt;h2 id="å°±å¾tcpé–‹å§‹å§">å°±å¾TCPé–‹å§‹å§!!
&lt;/h2>&lt;h2 id="æ•…äº‹èµ·é»å…©å°æ©Ÿå™¨è¦æ€éº¼æºé€š">æ•…äº‹èµ·é»ï¼šå…©å°æ©Ÿå™¨è¦æ€éº¼æºé€šï¼Ÿ
&lt;/h2>&lt;h3 id="udpåƒå¯„æ˜ä¿¡ç‰‡">UDPï¼šåƒå¯„æ˜ä¿¡ç‰‡
&lt;/h3>&lt;p>ï¼ˆæƒ³åƒä¸€ä¸‹å“ˆåˆ©æ³¢ç‰¹æ”¶åˆ°éœæ ¼è¯èŒ²å…¥å­¸é€šçŸ¥æ›¸ï¼‰&lt;/p>
&lt;p>å®Œå…¨æ²’æœ‰æ‰“æ‹›å‘¼ï¼Œè³‡æ–™å°±ç›´æ¥é€å‡ºå»ï¼Œæœƒå°è‡´ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ä¸ä¿è­‰é€é”ã€é †åºä¹Ÿå¯èƒ½äº‚æ‰&lt;/strong>&lt;/li>
&lt;li>é©åˆï¼šç›´æ’­ã€èªéŸ³ã€éŠæˆ²ï¼ˆæ‰ä¸€å°ä¿¡æ²’å·®ï¼Œåæ­£å¤§é‡è³‡æ–™ä¸€ç›´å‚³ï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å„ªé»&lt;/strong>ï¼šå¿«ã€çœè³‡æº&lt;br>
&lt;strong>ç¼ºé»&lt;/strong>ï¼šä¸å¯é ï¼Œè³‡æ–™å¯èƒ½éºå¤±&lt;/p>
&lt;hr>
&lt;h3 id="tcpåƒæ‰“é›»è©±">TCPï¼šåƒæ‰“é›»è©±
&lt;/h3>&lt;p>TCP å»ºç«‹é€£ç·šå‰æœƒå…ˆã€Œæ‰“æ‹›å‘¼ã€ â†’ &lt;strong>ä¸‰æ¬¡æ¡æ‰‹ï¼ˆ3-way handshakeï¼‰&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>Clientï¼šå˜¿ï¼Œæˆ‘è¦è·Ÿä½ è¬›è©±ï¼ˆSYNï¼‰&lt;/li>
&lt;li>Serverï¼šå¥½å•Šï¼Œæˆ‘æº–å‚™å¥½äº†ï¼ˆSYN+ACKï¼‰&lt;/li>
&lt;li>Clientï¼šé‚£æˆ‘é–‹å§‹èªªå›‰ï¼ˆACKï¼‰&lt;/li>
&lt;/ol>
&lt;p>å°±åƒä½ æ‰“çµ¦æœ‹å‹ï¼Œå°æ–¹èªªã€Œå–‚ã€ï¼Œä½ å›ã€Œå—¨ã€â†’ é€£ç·šæ‰ç®—å»ºç«‹ã€‚&lt;/p>
&lt;p>&lt;strong>å„ªé»&lt;/strong>ï¼šå¯é ã€æœ‰é †åºã€æœƒè£œè³‡æ–™&lt;br>
&lt;strong>ç¼ºé»&lt;/strong>ï¼šå¤šä¸€æ­¥æ‰‹çºŒï¼Œé€Ÿåº¦æ¯” UDP æ…¢&lt;/p>
&lt;hr>
&lt;h2 id="ç”¨å·¥å…·è§€å¯Ÿæ¡æ‰‹æµç¨‹">ç”¨å·¥å…·è§€å¯Ÿæ¡æ‰‹æµç¨‹
&lt;/h2>&lt;p>å¯ä»¥ç”¨ &lt;code>tcpdump&lt;/code> æ­é… &lt;code>curl&lt;/code> è§€å¯Ÿå®Œæ•´æµç¨‹ï¼š
&lt;img src="https://jasontsaicc.github.io/Jason-ops-notes/p/%E5%BE%9E%E5%90%83%E7%83%A4%E9%B4%A8%E8%81%8A%E5%88%B0-tcp%E9%87%8D%E6%96%B0%E5%9B%9E%E9%A1%A7%E7%B6%B2%E8%B7%AF%E9%80%9A%E8%A8%8A%E8%88%87%E5%8A%A0%E5%AF%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/3-way_handshake.png"
width="3082"
height="878"
srcset="https://jasontsaicc.github.io/Jason-ops-notes/p/%E5%BE%9E%E5%90%83%E7%83%A4%E9%B4%A8%E8%81%8A%E5%88%B0-tcp%E9%87%8D%E6%96%B0%E5%9B%9E%E9%A1%A7%E7%B6%B2%E8%B7%AF%E9%80%9A%E8%A8%8A%E8%88%87%E5%8A%A0%E5%AF%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/3-way_handshake_hu_d306a4140904a643.png 480w, https://jasontsaicc.github.io/Jason-ops-notes/p/%E5%BE%9E%E5%90%83%E7%83%A4%E9%B4%A8%E8%81%8A%E5%88%B0-tcp%E9%87%8D%E6%96%B0%E5%9B%9E%E9%A1%A7%E7%B6%B2%E8%B7%AF%E9%80%9A%E8%A8%8A%E8%88%87%E5%8A%A0%E5%AF%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/3-way_handshake_hu_ab8cab870ff3afd6.png 1024w"
loading="lazy"
alt="TCP 3-way handshake"
class="gallery-image"
data-flex-grow="351"
data-flex-basis="842px"
>&lt;/p>
&lt;ol>
&lt;li>Client â†’ Serverï¼š&lt;strong>SYN&lt;/strong>
&lt;ul>
&lt;li>å¾æœ¬æ©Ÿï¼ˆport 50963ï¼‰ç™¼å‡º SYN å°åŒ… â†’ Google 443&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Server â†’ Clientï¼š&lt;strong>SYN-ACK&lt;/strong>
&lt;ul>
&lt;li>Google å›ä¸€å€‹ SYN + ACKï¼Œacknowledge ä½ çš„åºè™Ÿ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Client â†’ Serverï¼š&lt;strong>ACK&lt;/strong>
&lt;ul>
&lt;li>å› ACKï¼Œæ¡æ‰‹å®Œæˆï¼Œé€£ç·šå»ºç«‹&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="å°åŒ…æ¨™è¨˜ç°¡å–®å°ç…§è¡¨">å°åŒ…æ¨™è¨˜ç°¡å–®å°ç…§è¡¨
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Flag&lt;/th>
&lt;th>æ„æ€&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>[S]&lt;/code>&lt;/td>
&lt;td>SYNï¼šæˆ‘è¦å»ºç«‹é€£ç·š&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>[S.]&lt;/code>&lt;/td>
&lt;td>SYN+ACKï¼šæˆ‘ä¹Ÿ OKï¼Œä¸”å›ä½ &lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>[.]&lt;/code>&lt;/td>
&lt;td>ACKï¼šç¢ºèªå®Œæˆæ¡æ‰‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>[P.]&lt;/code>&lt;/td>
&lt;td>Pushï¼šé–‹å§‹å‚³è³‡æ–™&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>[F.]&lt;/code>&lt;/td>
&lt;td>FINï¼šæˆ‘è¦æ–·ç·šçµæŸé€£ç·š&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="è³‡æ–™æœƒè¢«å·æ€éº¼è¾¦">è³‡æ–™æœƒè¢«å·æ€éº¼è¾¦ï¼Ÿ
&lt;/h2>&lt;p>å»ºç«‹æºé€šç®¡é“å¾Œï¼Œä¸‹ä¸€æ­¥è¦æ“”å¿ƒè³‡æ–™è¢«ç«Šè½ï¼Œé€™æ™‚å°±éœ€è¦ &lt;strong>åŠ å¯†&lt;/strong>ã€‚&lt;/p>
&lt;p>å°±åƒé›»å½±è£¡çš„æƒ…å ±å“¡ï¼Œä¸èƒ½è®“æ•µäººå·è½åˆ°æƒ…å ±å‚³ééç¨‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åŠ å¯†çš„å…©ç¨®æ–¹å¼">åŠ å¯†çš„å…©ç¨®æ–¹å¼
&lt;/h2>&lt;h3 id="å°ç¨±å¼åŠ å¯†symmetric-encryption">å°ç¨±å¼åŠ å¯†ï¼ˆSymmetric Encryptionï¼‰
&lt;/h3>&lt;p>æƒ…å ±å“¡å‡ºç™¼å‰ï¼Œé›™æ–¹å…ˆäº¤æ›é‘°åŒ™ï¼š&lt;/p>
&lt;ul>
&lt;li>æƒ…å ±å“¡æŠŠè³‡æ–™æ”¾é€²ä¿éšªç®±ï¼Œç”¨é‘°åŒ™é–èµ·ä¾†é€å‡º&lt;/li>
&lt;li>ä½ æ”¶åˆ°å¾Œç”¨ä¸€æ¨£çš„é‘°åŒ™æ‰“é–‹&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å„ªé»&lt;/strong>ï¼šé€Ÿåº¦å¿«ï¼Œé©åˆå¤§é‡è³‡æ–™ï¼ˆå½±ç‰‡ã€æª”æ¡ˆï¼‰&lt;br>
&lt;strong>ç¼ºé»&lt;/strong>ï¼šé‘°åŒ™äº¤æ›å¾ˆå±éšªï¼ˆå‚³è¼¸éç¨‹è¢«å·å°±ç ´åŠŸï¼‰&lt;/p>
&lt;hr>
&lt;h3 id="éå°ç¨±å¼åŠ å¯†asymmetric-encryption--å…¬é‘°èˆ‡ç§é‘°">éå°ç¨±å¼åŠ å¯†ï¼ˆAsymmetric Encryption â€“ å…¬é‘°èˆ‡ç§é‘°ï¼‰
&lt;/h3>&lt;p>é€™ç¨®æ–¹å¼æ›´è°æ˜ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½ æœ‰ä¸€æŠŠã€Œé–é ­ã€ğŸ”“ï¼ˆå…¬é‘°ï¼‰å’Œä¸€æŠŠã€Œé‘°åŒ™ã€ğŸ”ï¼ˆç§é‘°ï¼‰&lt;/li>
&lt;li>æŠŠé–é ­å…¬é–‹çµ¦æƒ…å ±å“¡ï¼Œæƒ…å ±å“¡ç”¨å®ƒä¸Šé– â†’ è³‡æ–™å®‰å…¨å¯„å›&lt;/li>
&lt;li>åªæœ‰ä½ æœ‰çš„é‘°åŒ™èƒ½æ‰“é–‹ â†’ ä¸ç”¨äº¤æ›ç§å¯†è³‡è¨Š&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å„ªé»&lt;/strong>ï¼šé‘°åŒ™ä¸ç”¨å‚³ï¼Œå®‰å…¨&lt;br>
&lt;strong>ç¼ºé»&lt;/strong>ï¼šé€Ÿåº¦æ…¢ï¼Œä¸é©åˆå‚³å¤§é‡è³‡æ–™&lt;/p>
&lt;hr>
&lt;h2 id="devops-ä¸–ç•Œä¸­çš„åŠ å¯†æ‡‰ç”¨">DevOps ä¸–ç•Œä¸­çš„åŠ å¯†æ‡‰ç”¨
&lt;/h2>&lt;p>é€™å…©ç¨®åŠ å¯†æ–¹å¼å¸¸æ­é…ä½¿ç”¨ï¼š&lt;/p>
&lt;ol>
&lt;li>ç”¨ &lt;strong>éå°ç¨±åŠ å¯†ï¼ˆRSAï¼‰&lt;/strong> å‚³é€ä¸€çµ„ session key&lt;/li>
&lt;li>æ¥è‘—é›™æ–¹ç”¨é€™çµ„ session key é€é &lt;strong>å°ç¨±åŠ å¯†ï¼ˆAESï¼‰&lt;/strong> å‚³è¼¸å¤§é‡è³‡æ–™&lt;/li>
&lt;/ol>
&lt;p>ä¹Ÿå°±æ˜¯åšåˆ°ï¼š&lt;br>
&lt;strong>å®‰å…¨äº¤æ›é‘°åŒ™ï¼ˆRSAï¼‰ + é«˜é€Ÿå‚³è¼¸è³‡æ–™ï¼ˆAESï¼‰&lt;/strong>&lt;/p>
&lt;hr>
&lt;p>ä»Šå¤©å°±å…ˆå¯«åˆ°é€™ï¼Œä¸‹ä¸€ç¯‡å†ä¾†èŠèŠ Certificateã€SSL/TLSã€JWT çš„åŸç†èˆ‡æ‡‰ç”¨ã€‚&lt;/p></description></item></channel></rss>